import{s as et,n as I,d as dt,a as q,e as G}from"../chunks/scheduler.CrsDffe0.js";import{S as at,i as lt,e as x,l as H,s as w,f as $,n as O,o as B,k as f,h as M,v as S,j as m,p as y,A as ft,q as N,B as V,c as nt,a as ot,m as st,t as ct,b as rt,d as it,g as R}from"../chunks/index.DSWBlzAv.js";import{g as ut,a as J}from"../chunks/spread.CgU5AtxT.js";import{P as _t}from"../chunks/Page.CpMcA8Cr.js";import{e as L,t as mt}from"../chunks/Footer.B67gTnlb.js";import{p as ht}from"../chunks/metadata.3DDCz5tU.js";function K(d,t,r){const o=d.slice();return o[4]=t[r],o}function Q(d,t,r){const o=d.slice();return o[7]=t[r],o}function W(d,t,r){const o=d.slice();return o[10]=t[r],o}function X(d){let t,r=d[10]+"",o;return{c(){t=x("th"),o=H(r)},l(a){t=$(a,"TH",{});var e=O(t);o=B(e,r),e.forEach(f)},m(a,e){m(a,t,e),y(t,o)},p:I,d(a){a&&f(t)}}}function Y(d){let t,r=d[7]+"",o;return{c(){t=x("td"),o=H(r)},l(a){t=$(a,"TD",{});var e=O(t);o=B(e,r),e.forEach(f)},m(a,e){m(a,t,e),y(t,o)},p:I,d(a){a&&f(t)}}}function Z(d){let t,r,o=L(Object.values(d[4])),a=[];for(let e=0;e<o.length;e+=1)a[e]=Y(Q(d,o,e));return{c(){t=x("tr");for(let e=0;e<a.length;e+=1)a[e].c();r=w()},l(e){t=$(e,"TR",{});var i=O(t);for(let l=0;l<a.length;l+=1)a[l].l(i);r=M(i),i.forEach(f)},m(e,i){m(e,t,i);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,null);y(t,r)},p(e,i){if(i&2){o=L(Object.values(e[4]));let l;for(l=0;l<o.length;l+=1){const h=Q(e,o,l);a[l]?a[l].p(h,i):(a[l]=Y(h),a[l].c(),a[l].m(t,r))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}},d(e){e&&f(t),V(a,e)}}}function pt(d){let t,r=d[0].metadataTable+"",o,a,e,i,l,h,p,u,k,g=d[0].download+"",C,D,P,E,j=L(Object.keys(d[1][0])),n=[];for(let s=0;s<j.length;s+=1)n[s]=X(W(d,j,s));let _=L(d[1]),v=[];for(let s=0;s<_.length;s+=1)v[s]=Z(K(d,_,s));return{c(){t=x("h2"),o=H(r),a=w(),e=x("div"),i=x("table"),l=x("tr");for(let s=0;s<n.length;s+=1)n[s].c();h=w();for(let s=0;s<v.length;s+=1)v[s].c();p=w(),u=x("div"),k=x("button"),C=H(g),D=H(" CSV"),this.h()},l(s){t=$(s,"H2",{});var b=O(t);o=B(b,r),b.forEach(f),a=M(s),e=$(s,"DIV",{class:!0});var c=O(e);i=$(c,"TABLE",{class:!0});var T=O(i);l=$(T,"TR",{});var F=O(l);for(let A=0;A<n.length;A+=1)n[A].l(F);F.forEach(f),h=M(T);for(let A=0;A<v.length;A+=1)v[A].l(T);T.forEach(f),c.forEach(f),p=M(s),u=$(s,"DIV",{class:!0});var z=O(u);k=$(z,"BUTTON",{class:!0});var U=O(k);C=B(U,g),D=B(U," CSV"),U.forEach(f),z.forEach(f),this.h()},h(){S(i,"class","metadata-table"),S(e,"class","metadata-table-container svelte-1akrh8d"),S(k,"class","default-button"),S(u,"class","button-container")},m(s,b){m(s,t,b),y(t,o),m(s,a,b),m(s,e,b),y(e,i),y(i,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,null);y(i,h);for(let c=0;c<v.length;c+=1)v[c]&&v[c].m(i,null);m(s,p,b),m(s,u,b),y(u,k),y(k,C),y(k,D),P||(E=ft(k,"click",d[2]),P=!0)},p(s,[b]){if(b&1&&r!==(r=s[0].metadataTable+"")&&N(o,r),b&2){j=L(Object.keys(s[1][0]));let c;for(c=0;c<j.length;c+=1){const T=W(s,j,c);n[c]?n[c].p(T,b):(n[c]=X(T),n[c].c(),n[c].m(l,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=j.length}if(b&2){_=L(s[1]);let c;for(c=0;c<_.length;c+=1){const T=K(s,_,c);v[c]?v[c].p(T,b):(v[c]=Z(T),v[c].c(),v[c].m(i,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=_.length}b&1&&g!==(g=s[0].download+"")&&N(C,g)},i:I,o:I,d(s){s&&(f(t),f(a),f(e),f(p),f(u)),V(n,s),V(v,s),P=!1,E()}}}function vt(d,t,r){let o;dt(d,mt,l=>r(0,o=l));let{metadata:a=ht}=t;const e=a.map(l=>{const h={};for(let[p,u]of Object.entries(l))/^_/.test(p)||(h[p]=u);return h});function i(){const l=",";let h=[Object.keys(e[0]).join(l)];for(let k of e)h.push(Object.values(k).map(g=>new RegExp(`${l}`).test(g)?`"${g}"`:g).join(l));h=h.join(`
`);const p=document.createElement("a"),u=new Blob([h],{type:"text/plain"});p.href=URL.createObjectURL(u),p.download="metadata.csv",p.click(),URL.revokeObjectURL(p.href)}return d.$$set=l=>{"metadata"in l&&r(3,a=l.metadata)},[o,e,i,a]}class bt extends at{constructor(t){super(),lt(this,t,vt,pt,et,{metadata:3})}}function gt(d){let t,r="Metadatos",o,a,e="En esta sección se encuentran los metadatos de la colección. Pueden descargarse y usarse libremente.",i,l,h="Protocolo",p,u,k="Este es el protocolo que especifica la construcción de los datos de la colección:",g,C,D="<thead><tr><th>Dato</th> <th>Descripción</th> <th>Tipo</th></tr></thead> <tbody><tr><td>pid</td> <td>Identificador único.</td> <td>categórico</td></tr> <tr><td>label</td> <td>Nombre del cómic. Iniciales con mayúsculas</td> <td>categórico</td></tr> <tr><td>Creator</td> <td>Artista del cómic. Inciales con mayúsculas, incluir acentos</td> <td>categórico</td></tr> <tr><td>Page</td> <td>Página del cómic.</td> <td>numérico</td></tr> <tr><td>Medium</td> <td>Técnica usada para la imagen.</td> <td>categórico</td></tr> <tr><td>Date</td> <td>Fecha de publicación (AAAA/MM/DD).</td> <td>ordinal</td></tr> <tr><td>Genre</td> <td>Género del cómic.</td> <td>categórico</td></tr> <tr><td>Source</td> <td>Fuente de la imagen.</td> <td>texto plano</td></tr></tbody>",P,E,j;return E=new bt({}),{c(){t=x("h1"),t.textContent=r,o=w(),a=x("p"),a.textContent=e,i=w(),l=x("h2"),l.textContent=h,p=w(),u=x("p"),u.textContent=k,g=w(),C=x("table"),C.innerHTML=D,P=w(),nt(E.$$.fragment)},l(n){t=$(n,"H1",{"data-svelte-h":!0}),R(t)!=="svelte-rtrtq6"&&(t.textContent=r),o=M(n),a=$(n,"P",{"data-svelte-h":!0}),R(a)!=="svelte-1fxghb2"&&(a.textContent=e),i=M(n),l=$(n,"H2",{"data-svelte-h":!0}),R(l)!=="svelte-1oups7d"&&(l.textContent=h),p=M(n),u=$(n,"P",{"data-svelte-h":!0}),R(u)!=="svelte-19wuz58"&&(u.textContent=k),g=M(n),C=$(n,"TABLE",{"data-svelte-h":!0}),R(C)!=="svelte-54rnz9"&&(C.innerHTML=D),P=M(n),ot(E.$$.fragment,n)},m(n,_){m(n,t,_),m(n,o,_),m(n,a,_),m(n,i,_),m(n,l,_),m(n,p,_),m(n,u,_),m(n,g,_),m(n,C,_),m(n,P,_),st(E,n,_),j=!0},p:I,i(n){j||(ct(E.$$.fragment,n),j=!0)},o(n){rt(E.$$.fragment,n),j=!1},d(n){n&&(f(t),f(o),f(a),f(i),f(l),f(p),f(u),f(g),f(C),f(P)),it(E,n)}}}function xt(d){let t,r;const o=[d[0],tt];let a={$$slots:{default:[gt]},$$scope:{ctx:d}};for(let e=0;e<o.length;e+=1)a=q(a,o[e]);return t=new _t({props:a}),{c(){nt(t.$$.fragment)},l(e){ot(t.$$.fragment,e)},m(e,i){st(t,e,i),r=!0},p(e,[i]){const l=i&1?ut(o,[i&1&&J(e[0]),i&0&&J(tt)]):{};i&2&&(l.$$scope={dirty:i,ctx:e}),t.$set(l)},i(e){r||(ct(t.$$.fragment,e),r=!0)},o(e){rt(t.$$.fragment,e),r=!1},d(e){it(t,e)}}}const tt={name:"metadata",layout:"page"};function $t(d,t,r){return d.$$set=o=>{r(0,t=q(q({},t),G(o)))},t=G(t),[t]}class Ot extends at{constructor(t){super(),lt(this,t,$t,xt,et,{})}}export{Ot as component};
